import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Custom hooks" />

# Custom hooks library

- [useTimeout](#useTimeout)
- [useClickOutside](#useClickOutside)
- [useToggle](#useToggle)
- [useRootColors](#useRootColors)
- [usePagination](#usePagination)
- [useDetectFirstRender](#useDetectFirstRender)

<h2 id="useTimeout">useTimeout</h2>

#### Description

---

Call function when value is changed. Function will be called only after delay time. Prevent call function on each change, waiting when value stop changed.

---

#### Generics

---

- `V = uknown` - Assigned to `value` Arguments

#### Arguments

---

- **value** - required. Generic type `V = unknown`.

- **delayFunction** - required. Type `(val: V) => void`.

- **delayTime** - optional. Type `number`.

---

#### Return type `void`

---

#### Usage example

---

```TS
const Component: React.FC = () => {
    const [value, setValue] = useState<string>('');

    useTimeout(value, (val) => setValue(val), 300);

    // return
}
```

---

<h2 id="useClickOutside">useClickOutside</h2>

#### Description

---

Trigger callback, when click happen outside refferenced element.

---

#### Generics

---

- *E extends HTMLElement = any* - assigned to `useRef` hook

---

#### Arguments

---

- **callback** - required. Type `() => void`

---

#### Return type `React.MutableRefObject<E | null>`

---

#### Usage example

---

```TS
const Component: React.FC = () => {
    const divRef = useClickOutside<HTMLDivElement>(() => {/*do something when click happens outside ref*/});

    return (
        <div ref={ divRef }>
            // content
        </div>
    );
}
```

---

<h2 id="useToggle">useToggle</h2>

#### Description

---

Boolean state managment. Specific in toggle function.

- Called without arguments switch to opposite value.
- Called with argument, change to argument value.

---

#### Arguments

---

- **initialValue** - Optional. Type `boolean`. Default value `false`;

---

#### Return type `[boolean, (val?:boolean) => void]`

---

#### Usage example

---

```TS
const Component: React.FC = () => {
    const [isOpened, toggleOpened] = useToggle();

    return // content
}
```

---

<h2 id="useRootColors">useRootColors</h2>

#### Description

---

Return CSS root colors

---

#### Return type 

---

```TS
{
    primary: string;
    secondary: string;
    white: string;
    black: string;
    red: string;
}
```

---

#### Usage example

---

```TS
const Component: React.FC = () => {
    const colors = useRootColors();
    // Colors can be desturct
    const { primary } = useRootColors();

    return // content
}
```

---

<h2 id="usePagination">usePagination</h2>

#### Description

---

Hook which store pagination state, pagination action to change page.

- Memoize state at first call, after that can be updated only `totalPages` value

---

#### Arguments

---

- **initial** - Optional. Type `{ active: number; totalPages: number }`

---

#### Return type 

---

```TS
{
    active: number,
    totalPages: number,
    handleChangePage: (page: number) => void
}
```

---

#### Usage example

---

```TS
const Comp = () => {
    const {active, totalPages, handleChangePage} = usePagination({active: 1, totalPages: 20});

    return (
        <>
        //  content
        
        <Pagination active={active} totalPages={totalPages} onChange={handleChangePage} />

        //  content
        </>
    );
}
```

---

<h2 id="useDetectFirstRender">useDetectFirstRender</h2>

---

#### Dedsctiprion

Help to detect first render, to do something only at first render or prevent.

---

#### Return type `boolean`

---

#### Usage example

```TS
const Comp = () => {
    const isFirstRender = useDetectFirstRender();

    //content
}
```

---
